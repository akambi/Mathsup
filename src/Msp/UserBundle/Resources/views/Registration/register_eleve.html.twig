{% extends "MspUserBundle::layout.html.twig" %}

{# Le titre de la page (defaut MathSup) #}
{% block title %}INSCRIPTION ÉLÈVE | {{ parent() }}{% endblock %}
{# La description de la page (defaut vide) #}
{% block description %}{% endblock %}
{# Les mots clés de la page (defaut vide) #}
{% block keywords %}{% endblock %}
{# Indication pour les robots de la page  (defaut all) #}
{% block robots %}noindex, nofollow{% endblock %}

{# Le titre de l'entête du document #}
{% block entetetitle %}INSCRIPTION ÉLÈVE | {{ parent() }}{% endblock %}
{# La barre latéralke de la page #}
{% block aside %}{{ parent() }}{% endblock %}

{% block fos_user_content %}

<header>        
    <h1>INSCRIPTION ÉLÈVE</h1>
    <p class="pull-right"><a class="btn" href="{{ path('fos_user_registration_register')}}">INSCRIPTION PROFESSEUR</a></p>
</header>

<div>
    Etapes:
    {% include 'CraueFormFlowBundle:FormFlow:stepList.html.twig' %}
</div>

<form action="{{ path('msp_eleve_inscription') }}" {{ form_enctype(form) }} method="POST" class="fos_user_registration_register">
    {% include 'CraueFormFlowBundle:FormFlow:stepField.html.twig' %}

    {{ form_errors(form) }}

    {{ form_widget(form) }}

    {{ form_rest(form) }}

    {% set renderBackButton = flow.getCurrentStepNumber() in (flow.getFirstStepNumber() + 1) .. flow.getLastStepNumber() %}
    <div class="craue_formflow_buttons craue_formflow_button_count_{% if renderBackButton %}3{% else %}2{% endif %}">
            
            <button class="btn btn-danger" type="submit" class="craue_formflow_button_first" name="{{ flow.getFormTransitionKey() }}" value="reset" formnovalidate="formnovalidate">
                    {{- 'button.reset' | trans({}, 'CraueFormFlowBundle') -}}
            </button>
        
            {% if renderBackButton %}
                    {# see http://www.html5rocks.com/en/tutorials/forms/html5forms/ #}
                    <button class="btn btn-info" type="submit" name="{{ flow.getFormTransitionKey() }}" value="back" formnovalidate="formnovalidate">
                            {{- 'button.back' | trans({}, 'CraueFormFlowBundle') -}}
                    </button>
            {% endif %}
        
            <button class="btn btn-success" type="submit" class="craue_formflow_button_last">
                    {%- if flow.getCurrentStepNumber() < flow.getLastStepNumber() -%}
                            {{- 'button.next' | trans({}, 'CraueFormFlowBundle') -}}
                    {%- else -%}
                            {{- 'button.finish' | trans({}, 'CraueFormFlowBundle') -}}
                    {%- endif -%}
            </button>

                    
    </div>
</form>

{% endblock fos_user_content %}

